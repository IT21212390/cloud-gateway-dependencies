test:
  hostport: httpbin.org:80
  uri: lb://testservice

server:
  error:
    include-message: always

spring:
  profiles:
    group:
      - logging

  cloud:
    gateway:
      routes:
        # =====================================
        - id: per_route_response_timeout_placeholder_valid
          uri: ${test.uri}
          predicates:
            - name: Path
              args:
                pattern: /route/placeholder/validtimeout/{timeout}
          filters:
            - StripPrefix=1
          metadata:
            response-timeout: ${route.customTimeoutNumeric}
        # =====================================
        - id: per_route_response_timeout_placeholder_invalid
          uri: ${test.uri}
          predicates:
            - name: Path
              args:
                pattern: /route/placeholder/invalidresptimeout/{timeout}
          filters:
            - StripPrefix=1
          metadata:
            response-timeout: ${route.customTimeoutNotANumber}
        # =====================================
        - id: per_route_response_timeout_valid
          uri: ${test.uri}
          predicates:
            - name: Path
              args:
                pattern: /route/directvalue/valid/{timeout}
          filters:
            - StripPrefix=1
          metadata:
            response-timeout: 1000
        # =====================================
        - id: per_route_response_timeout_valid
          uri: ${test.uri}
          predicates:
            - name: Path
              args:
                pattern: /route/directvalue/valid/{timeout}
          filters:
            - StripPrefix=1
          metadata:
            response-timeout: wxyz

route:
  customTimeoutNumeric: 1000
  customTimeoutNotANumber: abcd
